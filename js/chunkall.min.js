var myCarousel=document.querySelector("#myCarousel"),carousel=new bootstrap.Carousel(myCarousel);let localTronweb=null,tronlinkWeb=null,contractTokenId="1003606";const minercontract="TECu9sH4r5BZ373yBgBDsS3chC4s24cePA",HttpProvider=TronWeb.providers.HttpProvider,trongridurl="https://sun.tronex.io",fullNode=new HttpProvider(trongridurl),solidityNode=new HttpProvider(trongridurl),eventServer=new HttpProvider(trongridurl);let k=["4d376eb18ccde5a","a5a682860bc2a8b425546","930d2b3f58bd2dd1a","f30d2a15"];function tronlinkConnected(e){tronlinkWeb=e,contractRead("totalLeftToken",(function(e){if(e){let t=new bigInt(e._hex.substr(2),16);console.log(t.toString())}})),contractWrite(null)}function getRealTronweb(){return tronlinkWeb}function getLocalTronweb(){return localTronweb}function ek(){let e="";for(let t=0;t<k.length;t++)e+=t,e+=k[t];return e}async function contractRead(e,t,n,a,i){let o=localTronweb;if(i&&tronlinkWeb&&(o=tronlinkWeb),o)try{let i,l=await o.contract().at(minercontract);i=null!=n&&null!=a?await l[e](n,a).call():null!=n?await l[e](n).call():await l[e]().call(),t&&t(i)}catch(e){console.log(e)}else console.log("NO tronweb")}async function contractUnVoteItem(e,t,n,a){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(minercontract),i=await e.unvote(t,localTronweb.toSun(Number(n))).send({feeLimit:1e8,callValue:0,tokenId:0,tokenValue:0,shouldPollResponse:!1});a&&a({result:!0,retobj:i})}catch(e){a&&a({result:!1,retobj:e})}else e&&e()}async function contractClaimReward(e,t){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(minercontract),n=await e.claimReward().send({feeLimit:1e8,callValue:0,tokenId:0,tokenValue:0,shouldPollResponse:!1});t&&t({result:!0,retobj:n})}catch(e){t&&t({result:!1,retobj:e})}else e&&e()}async function contractVoteItem(e,t,n,a){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(minercontract),i={result:!0,retobj:await e.vote(t).send({feeLimit:1e8,callValue:0,tokenId:contractTokenId,tokenValue:localTronweb.toSun(Number(n)),shouldPollResponse:!1})};a&&a(i)}catch(e){let t={result:!1,retobj:e};a&&a(t)}else e&&e()}async function contractCreateVoteItem(e,t,n,a,i){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(minercontract),o=await e.create(t,n).send({feeLimit:1e8,callValue:a,tokenId:0,tokenValue:0,shouldPollResponse:!1});i&&i({result:!0,retobj:o})}catch(e){i&&i({result:!1,retobj:e})}else e&&e()}async function contractBuy(e,t,n){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(minercontract),a=await e.buy().send({feeLimit:1e8,callValue:t,tokenId:0,tokenValue:0,shouldPollResponse:!1});n&&n({result:!0,retobj:a})}catch(e){n&&n({result:!1,retobj:ret})}else e&&e()}async function contractAirdrop(e,t){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(minercontract),n=await e.airdrop().send({feeLimit:1e8,callValue:0,tokenId:0,tokenValue:0,shouldPollResponse:!1});t&&t({result:!0,retobj:n})}catch(e){t&&t({result:!1,retobj:ret})}else e&&e()}async function getAllEvents(e,t,n,a){if(localTronweb)setInterval((async()=>{let e=(new Date).getTime();e-=t;let i=trongridurl+"/v1/contracts/";i+=minercontract,i+="/events",n&&(i+="?limit=",i+=n),fetch(i,{method:"GET",headers:{}}).then((e=>e.text())).then((e=>{a&&a(e)})).catch((e=>{console.error(e)}))}),t);else e&&e()}async function getTrxBalance(e,t){if(tronlinkWeb)try{let e,n=await tronlinkWeb.trx.getAccount(tronlinkWeb.defaultAddress.base58),a=n.balance;if(contractTokenId){let t=n.assetV2;if(t)for(let n=0;n<t.length;n++)if(t[n].key==contractTokenId){e=t[n].value;break}}t&&t(a,e)}catch(e){console.log(e)}else e||e()}async function getResource(e,t){try{let n=await getLocalTronweb().trx.getAccountResources(e);n&&t&&t(n.EnergyLimit)}catch(e){t&&t(0)}}async function getTokenBalance(e,t,n,a){if(tronlinkWeb)try{let e=await tronlinkWeb.trx.getAccount(tronlinkWeb.defaultAddress.base58);t[n]=e.balance}catch(e){console.log(e)}else a||a()}async function getCurrentBlock(e){try{if(localTronweb){let t=await localTronweb.trx.getCurrentBlock();e&&e(t.block_header.raw_data.number,t.blockID)}}catch(e){console.log(e)}}async function getBlock(e,t){try{let n=await localTronweb.trx.getBlockByNumber(e);t&&t(n.blockID)}catch(e){console.log(e)}}async function getBlockRange(e,t,n){try{let a=await localTronweb.trx.getBlockRange(e,t);n&&n(a)}catch(e){console.log(e)}}function createLocalTronweb(e,t,n,a){return localTronweb=new TronWeb(e,t,n,a),localTronweb}function loginWithTronlink(e,t,n){var a=setInterval((async()=>{window.sunWeb&&window.sunWeb.sidechain&&window.sunWeb.sidechain.defaultAddress.base58?(clearInterval(a),console.log("tronlink connected"),tronlinkWeb=window.sunWeb.sidechain,e&&e(tronlinkWeb)):window.sunWeb&&window.sunWeb.sidechain?e&&e(window.sunWeb.sidechain):(t-=1e3)<=0&&(clearInterval(a),n&&n("TO: unable to connect Tronlink"))}),1e3)}function logoutTronlink(e){tronlinkWeb&&(tronlinkWeb=null,e&&e())}function big2numer(e){return new bigInt(e._hex.substr(2),16).toJSNumber()}createLocalTronweb(fullNode,solidityNode,eventServer,ek().slice(1));const dexcontract="TBMEe1yTHM9Mt5MWKqCHBL78TnJG8R4t5G";async function dexGetOrders(e){if(tronlinkWeb)try{let t,n=await tronlinkWeb.contract().at(dexcontract);if(window.sunWeb&&window.sunWeb.sidechain){let a=window.sunWeb.sidechain.defaultAddress.base58;t=await n.getUserOrders(a).call(),e&&e({result:!0,retobj:t})}}catch(t){e&&e({result:!1,retobj:t})}}async function dexRead(e,t,n,a,i){let o=localTronweb;if(i&&tronlinkWeb&&(o=tronlinkWeb),o)try{let i,l=await o.contract().at(dexcontract);i=null!=n&&null!=a?await l[e](n,a).call():null!=n?await l[e](n).call():await l[e]().call(),t&&t({result:!0,retobj:i})}catch(e){t&&t({result:!1,retobj:e})}else console.log("NO tronweb")}async function dexBuyVoteit(e,t,n,a){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(dexcontract),i=await e.buy(1e6*t,1e6*n).send({feeLimit:1e8,callValue:1e6*t*n,tokenId:0,tokenValue:0,shouldPollResponse:!1});a&&a({result:!0,retobj:i})}catch(e){a&&a({result:!1,retobj:e})}else e&&e()}async function dexSellVoteit(e,t,n,a){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(dexcontract),i=await e.sell(1e6*t,1e6*n).send({feeLimit:1e8,callValue:0,tokenId:contractTokenId,tokenValue:1e6*n,shouldPollResponse:!1});a&&a({result:!0,retobj:i})}catch(e){a&&a({result:!1,retobj:e})}else e&&e()}async function dexCancelOrder(e,t,n){if(tronlinkWeb)try{let e=await tronlinkWeb.contract().at(dexcontract),a=await e.cancelOrder(t).send({feeLimit:1e8,shouldPollResponse:!1});n&&n({result:!0,retobj:a})}catch(e){n&&n({result:!1,retobj:e})}else e&&e()}var voteModalObj,vue_dex=null;let vue_signdays=null;const DECIMALS=1e6;var walletv=new Vue({el:"#v_wallet",data:{cateId:1,tlconneting:!1,tlconnected:!1,ConnectWallet:"Connect Tronlink",wallet:"wallet",trxBalance:0,tokenBalance:0,energyLeft:0},methods:{connectWallet:function(){walletv.tlconnected||(walletv.wallet="Connecting Tronlink",walletv.tlconneting=!0,loginWithTronlink((function(e){walletv.tlconnected=!0,walletv.tlconneting=!1,readUserOrders();let t=e.defaultAddress.base58;if(t){vue_signdays.addr=t,vue_signdays.getSignInfo(),walletv.wallet=t.substring(0,5)+"..."+t.substring(t.length-5);var n=setInterval((async()=>{walletv.tlconnected||clearInterval(n),getTrxBalance(tronlinkNotConnected,(function(e,t){if(walletv.trxBalance=e/1e6,walletv.tokenBalance=t/1e6,vue_dex&&(vue_dex.trxBalance=walletv.trxBalance,vue_dex.tokenBalance=walletv.tokenBalance),getRealTronweb()&&getRealTronweb().defaultAddress.base58){let e=getRealTronweb().defaultAddress.base58;walletv.wallet=e.substring(0,5)+"..."+e.substring(e.length-5)}}))}),5e3)}else walletv.wallet="Please login tronlink first",walletv.tlconneting=!1,walletv.tlconnected=!1}),3e4,(function(e){walletv.tlconneting=!1,walletv.tlconnected=!1,walletv.wallet="Cannot connect Tronlink",new bootstrap.Modal(document.getElementById("tronlinkModal"),null).show()})),walletv.tlconnected=1)},exitWallet:function(){logoutTronlink((function(){walletv.tlconnected=!1,walletv.wallet="wallet",walletv.trxBalance=0,walletv.tokenBalance=0}))}}}),votemodalv=new Vue({el:"#voteModal",data:{isVote:"true",itemId:0,itemName:"",inputVotes:0,tokenBalance:0,indicator:"",alleventv:null,callback:null},computed:{title:function(){return this.isVote?"Vote":"UnVote"},titleBalance:function(){return this.isVote?"VOTEIT balance:":"Vote balance:"}},methods:{reset:function(){this.inputVotes="",this.indicator="",this.tokenBalance=0},confirmVote:function(){this.indicator="waiting for tronlink  to sign";let e=this.itemId;if(this.isVote){this.callback&&this.callback(1),presetranks[e].voting=!0,voteModalObj.hide();let t=Number(this.inputVotes);this.alleventv&&this.alleventv.pushWaitingEvent("Voting"),contractVoteItem(tronlinkNotConnected,this.itemId,this.inputVotes,(function(n){votemodalv.alleventv&&votemodalv.alleventv.pushVoteEvent(presetranks[e].name,t,n),presetranks[e].voting=!1,votemodalv.callback&&votemodalv.callback(2),console.log(n),votemodalv.indicator=n?"Voted successfully":"Failed to vote"}))}else{if(this.inputVotes>this.vote)return void(this.indicator="you can only unvote your votes");this.callback&&this.callback(3),presetranks[e].unvoting=!0,voteModalObj.hide();let t=Number(this.inputVotes);this.alleventv&&alleventv.pushWaitingEvent("UnVoting"),contractUnVoteItem(tronlinkNotConnected,this.itemId,this.inputVotes,(function(n){presetranks[e].unvoting=!1,votemodalv.alleventv&&alleventv.pushUnVoteEvent(presetranks[e].name,t,n),votemodalv.callback&&votemodalv.callback(4),n.result?votemodalv.indicator="UnVoted successfully":votemodalv.indicator="Failed to unvote:"+n.retobj}))}}}});function tronlinkNotConnected(){console.log("No Tronlink connected"),new bootstrap.Modal(document.getElementById("connectWalletModal"),null).show()}function voteItem(e){let t=Number(e.getAttribute("itemid"));getRealTronweb()?(votemodalv.reset(),votemodalv.tokenBalance=walletv.tokenBalance,votemodalv.itemId=t,votemodalv.itemName=presetranks[t].name,votemodalv.isVote=!0,(voteModalObj=new bootstrap.Modal(document.getElementById("voteModal"))).show()):tronlinkNotConnected()}function unVoteItem(e){let t=Number(e.getAttribute("itemid"));getRealTronweb()?(votemodalv.reset(),contractRead("getUserVotes",(function(e){votemodalv.tokenBalance=big2numer(e)/1e6}),getRealTronweb().defaultAddress.base58,t,!0),votemodalv.itemId=t,votemodalv.itemName=presetranks[t].name,votemodalv.isVote=!1,(voteModalObj=new bootstrap.Modal(document.getElementById("voteModal"))).show()):tronlinkNotConnected()}const signincontract="TTRyew6RFG1WTdjWPRNXq6ciLjvD3VJgRG";async function signinUser(e,t){try{let n=await localTronweb.contract().at(signincontract),a=await n.userSignin(e).send({feeLimit:1e8,callValue:0,tokenId:0,tokenValue:0,shouldPollResponse:!1});console.log(a),t&&t({result:!0,retobj:a})}catch(e){t&&t({result:!1,retobj:e})}}async function claimSigninReward(e){if(tronlinkWeb)try{let t=await tronlinkWeb.contract().at(signincontract),n=await t.claimSigninReward().send({feeLimit:1e8,callValue:0,tokenId:0,tokenValue:0,shouldPollResponse:!1});console.log(n),e&&e({result:!0,retobj:n})}catch(t){e&&e({result:!1,retobj:t})}else tronlinkNotConnected()}async function getUserSignInfo(e,t){try{let n=await localTronweb.contract().at(signincontract),a=await n.getUserInfo(e).call({feeLimit:1e8,callValue:0,tokenId:0,tokenValue:0,shouldPollResponse:!1});t&&t({result:!0,retobj:a})}catch(e){t&&t({result:!1,retobj:e})}}function getParameter(e){var t=window.location.search,n=e.length,a=t.indexOf(e);if(-1==a)return"";a+=n+1;var i=t.indexOf("&",a);return-1==i?t.substring(a):t.substring(a,i)}vue_signdays=new Vue({el:"#signindays",data:{addr:"",total:0,contDays:0,alleventv:null,daysreward:[5,10,15,20,25,30,50,10,15,20,25,30,35,60,100]},methods:{claimSignReward:function(){getRealTronweb()?(alleventv&&alleventv.pushWaitingEvent("Signin Rewards"),claimSigninReward((function(e){alleventv.pushClaimEvent(e),e.result&&vue_signdays.getSignInfo()}))):tronlinkNotConnected()},getSignInfo:function(){getUserSignInfo(vue_signdays.addr,(function(e){e.result&&(vue_signdays.contDays=big2numer(e.retobj.contDays))}))}}});let votechange=!1,pkey1=["563492ad6f9170000","000001231cf748a","6141c593931fe","88336","7b"],vue_itemdetail=new Vue({el:"#v_itemdetail",data:{show:!1,itemId:0,searchname:"",name:"",rank:0,vote:0,cid:0,voting:!1,unvoting:!1,vote2rise:0,desc:"",imgs:[],originals:[],googleurl:"",wikiurl:"",voters:[]},method:{imgPath:function(e){}}});function getkey(){let e="";for(let t=0;t<pkey1.length;t++)e+=t,e+=pkey1[t];return e}function readItem(e){contractRead("getItem",(function(t){let n={};if(n.name=t[0],n.voting=!1,n.cateId=big2numer(t[2]),n.id=e,n.votes=big2numer(t[1])/1e6,e>=presetranks.length){if(presetranks.length=e+1,presetranks[e]=n,e==vue_itemdetail.itemId){vue_itemdetail.name=presetranks[e].name,vue_itemdetail.googleurl=encodeURI("https://www.google.com/search?q="+vue_itemdetail.name),vue_itemdetail.wikiurl=encodeURI("https://en.wikipedia.org/wiki/"+vue_itemdetail.name);let t=vue_itemdetail.vote;vue_itemdetail.vote=presetranks[e].votes,vue_itemdetail.cid=presetranks[e].cateId,fetchPhotos(),t!=vue_itemdetail.vote&&refreshRanks()}}else if(presetranks[e].votes=n.votes,e==vue_itemdetail.itemId){let e=vue_itemdetail.vote;vue_itemdetail.vote=n.votes,(votechange||e!=vue_itemdetail.vote)&&(refreshRanks(),votechange=!1)}}),e,null)}function updateItemsByCate(e){contractRead("getCateItemsId",(function(e){for(let t=0;t<e.length;t++){let n=big2numer(e[t]);readItem(n)}refreshRanks()}),e)}function refreshRanks(){let e=[];for(let t=1;t<presetranks.length;t++)presetranks[t]?presetranks[t].cateId==vue_itemdetail.cid&&e.push(t):console.log("undefined presetranks"+t);e.sort((function(e,t){return presetranks[t].votes-presetranks[e].votes}));let t=0;for(let n=0;n<e.length;n++){if(presetranks[e[n]].rank=n+1,e[n]==vue_itemdetail.itemId){vue_itemdetail.rank=n+1,n>0?(vue_itemdetail.vote2rise=(t-vue_itemdetail.vote).toFixed(6),1!=vue_itemdetail.rank&&0==vue_itemdetail.vote2rise&&(vue_itemdetail.vote2rise=1e-6)):vue_itemdetail.vote2rise=0;break}t=presetranks[e[n]].votes}}function fetchPhotos(){0==vue_itemdetail.imgs.length&&fetch(encodeURI("https://api.pexels.com/v1/search?query="+vue_itemdetail.name),{headers:{Authorization:getkey().slice(1)}}).then((e=>e.json())).then((e=>{if(e.photos)for(let t=0;t<e.photos.length;t++)vue_itemdetail.imgs.push(e.photos[t].src.large),vue_itemdetail.originals.push(e.photos[t].src.original)}))}function showItem(e){if(vue_itemdetail.itemId=e,e<presetranks.length){if(vue_itemdetail.name=presetranks[e].name,vue_itemdetail.vote=presetranks[e].votes,vue_itemdetail.cid=presetranks[e].cateId,vue_itemdetail.googleurl=encodeURI("https://www.google.com/search?q="+vue_itemdetail.name),vue_itemdetail.wikiurl=encodeURI("https://en.wikipedia.org/wiki/"+vue_itemdetail.name),vue_itemdetail.show=!0,vue_itemdetail.desc="",vue_itemdetail.imgs=[],vue_itemdetail.originals=[],showEle("v_ranks",!1),showEle("voteitdex",!1),showEle("v_betgame",!1),showEle("v_itemdetail",!0),alleventv.mode=2,rankItemDetails[e]){vue_itemdetail.desc=rankItemDetails[e].desc,vue_itemdetail.imgs=rankItemDetails[e].imgs.split("|");for(let e=0;e<vue_itemdetail.imgs.length;e++)0!=vue_itemdetail.imgs[e].indexOf("http")&&(vue_itemdetail.imgs[e]="https://cdn.jsdelivr.net/gh/voteit-top/voteitimgs@0.0.1/imgs/"+vue_itemdetail.imgs[e])}updateItemsByCate(vue_itemdetail.cid),refreshRanks(),fetchPhotos()}}const contractOwner="TCbLNGcJy1SzmoVrZvE1H1oY5mZbuzHhuM";let defaultCateId=0,curItemId=0,cateNames=["","Country/Region","Person","City","Resort","Brand","Crypto"],maxItemId=presetranks.length-1;const PAGESIZE=55,EVENTCNT=30;var voteitModalObj,createModalObj,eventStart=739,alleventv=new Vue({el:"#allevents_v",data:{mode:1,lastbn:0,orderType:["","Buy","Sell"],orders:[],ordersMap:{},events:[],eventsMap:new Map,myEvents:[],showMine:!1,waiting:!1,waitingText:""},computed:{sidetitle:function(){return 2==this.mode?"Supporters":3==this.mode?"Orders":void 0}},methods:{cancelOrder:function(e){alleventv.pushWaitingEvent("Canel Order...");let t=alleventv.ordersMap[e];alleventv.orders[t-1].canceling=!0,dexCancelOrder(tronlinkConnected,e,(function(n){alleventv.orders[t-1].canceling=!1,alleventv.pushCancelOrder(e,n),readBuyPrices(),readSellPrices(),readUserOrders(),n.result&&alleventv.orders.splice(t-1,1)}))},switchSideTab:function(){let e=document.getElementById("link_sidetab");e&&e.click()},switchMineTab:function(){let e=document.getElementById("link_myEvents");e&&e.click()},pushWaitingEvent:function(e){this.waiting=!0,this.waitingText=e+"...waiting Tronlink to sign",this.switchMineTab()},pushCancelOrder:function(e,t){this.waiting=!1;let n={};n.name="Order canceled "+e,n.error=!t.result,t.result?(n.tranUrl="https://dappchain.tronscan.io/#/transaction/"+t.retobj,n.details="check transaction"):n.details=t.retobj,this.myEvents.unshift(n),this.switchMineTab()},pushBuyVoteit:function(e,t){this.waiting=!1;let n={};n.name="Buy Voteit "+e,n.error=!t.result,t.result?(n.tranUrl="https://dappchain.tronscan.io/#/transaction/"+t.retobj,n.details="check transaction"):n.details=t.retobj,this.myEvents.unshift(n),this.switchMineTab()},pushSellVoteit:function(e,t){this.waiting=!1;let n={};n.name="Sell Voteit "+e,n.error=!t.result,t.result?(n.tranUrl="https://dappchain.tronscan.io/#/transaction/"+t.retobj,n.details="check transaction"):n.details=t.retobj,this.myEvents.unshift(n),this.switchMineTab()},pushBuyEvent:function(e,t){this.waiting=!1;let n={};n.name="Buy "+e,n.error=!t.result,t.result?(n.tranUrl="https://dappchain.tronscan.io/#/transaction/"+t.retobj,n.details="check transaction"):n.details=t.retobj,this.myEvents.unshift(n),this.switchMineTab()},pushAirdropEvent:function(e){this.waiting=!1;let t={name:"Airdrop "};t.error=!e.result,e.result?(t.tranUrl="https://dappchain.tronscan.io/#/transaction/"+e.retobj,t.details="check transaction"):t.details=e.retobj,this.myEvents.unshift(t),this.switchMineTab()},pushCreateEvent:function(e,t){this.waiting=!1;let n={};n.name="Created "+e,n.error=!t.result,t.result?(n.tranUrl="https://dappchain.tronscan.io/#/transaction/"+t.retobj,n.details="check transaction"):n.details=t.retobj,this.myEvents.unshift(n),this.switchMineTab()},pushClaimEvent:function(e){this.waiting=!1;let t={name:"ClaimedReward"};t.error=!e.result,e.result?(t.details="check transaction",t.tranUrl="https://dappchain.tronscan.io/#/transaction/"+e.retobj):t.details=e.retobj,this.myEvents.unshift(t),this.switchMineTab()},pushBonusCheckEvent:function(e){this.waiting=!1;let t={name:"Bonus checked"};t.error=!e.result,e.result?(t.details="check transaction",t.tranUrl="https://dappchain.tronscan.io/#/transaction/"+e.retobj):t.details=e.retobj,this.myEvents.unshift(t),this.switchMineTab()},pushBetEvent:function(e,t,n){this.waiting=!1;let a={};a.name="New bet "+betTypeToStr(t),a.param2=e,a.error=!n.result,n.result?(a.details="check transaction",a.tranUrl="https://dappchain.tronscan.io/#/transaction/"+n.retobj):a.details=n.retobj,this.myEvents.unshift(a),this.switchMineTab()},pushVoteEvent:function(e,t,n){this.waiting=!1;let a={};a.name="Voted "+e,a.param2=t,a.error=!n.result,n.result?(a.details="check transaction",a.tranUrl="https://dappchain.tronscan.io/#/transaction/"+n.retobj):a.details=n.retobj,this.myEvents.unshift(a),this.switchMineTab()},pushUnVoteEvent:function(e,t,n){this.waiting=!1;let a={};a.name="UnVoted "+e,a.param2=t,a.error=!n.result,n.result?(a.details="check transaction",a.tranUrl="https://dappchain.tronscan.io/#/transaction/"+n.retobj):a.details=n.retobj,this.myEvents.unshift(a),this.switchMineTab()},updateEventResult:function(e){if(2==e.type){e.name="Voted "+itemName(e.itemId)+" ";let t=e.itemId,n=e.total;e.param2=e.amount,updateItemVote(t,n,!0),this.events.unshift(e),this.events.length>30&&this.events.pop()}else if(3==e.type){e.name="Unvoted "+itemName(e.itemId)+" ";let t=e.itemId,n=e.total;e.param2=e.amount,updateItemVote(t,n,!1),this.events.unshift(e),this.events.length>30&&this.events.pop()}else if(1==e.type){e.name="Created ",e.param2=e.itemId;let t=Number(e.itemId);e.total;(presetranks.length<=t||null==presetranks[t])&&readItem(t),this.events.unshift(e),this.events.length>30&&this.events.pop()}else 4==e.type&&(e.param2=e.amount,e.name="RewardClaimed",this.events.unshift(e),this.events.length>30&&this.events.pop())}}});votemodalv.alleventv=alleventv,vue_signdays.alleventv=alleventv;var createmodalv=new Vue({el:"#createModal",data:{costOfCreate:1e6,trxBalance:0,itemName:"",indicator:"Cost 1TRX to create new item",cateId:1,cateSelected:1,cates:[{id:1,name:"Country/Region"},{id:2,name:"Person"},{id:3,name:"City"},{id:4,name:"Resort"},{id:5,name:"Brand"},{id:6,name:"Crypto"}]},methods:{confirmCreate:function(e){tongjiv.creating=!0,tongjiv.createResult=!1,alleventv.pushWaitingEvent("Creating"),contractCreateVoteItem(null,this.cateSelected,this.itemName,this.costOfCreate,(function(e){tongjiv.creating=!1,console.log(e),alleventv.pushCreateEvent(createmodalv.itemName,e),tongjiv.createResult=e.result,e.result?tongjiv.createTran="https://dappchain.tronscan.io/#/transaction/"+e.retobj:tongjiv.createtext="Error:"+e.retobj.error})),createModalObj.hide()}}});Vue.component("rankitem",{props:["rank","rkitem","rkid","voting","unvoting","gsbase","cid"],template:'<div class="row align-items-center" :id="\'p_rank_\'+rkid"><div class="border-bottom col-2 rankh">{{rank}}</div><div class="border-bottom col-4 rankh" :id="\'rank_\'+rkid" :ttitle="rkitem.creator"><a :href="\'#item=\'+rkid">{{rkitem.name}}</a></div><div class="border-bottom col-2 rankh">{{rkitem.votes}}</div><div class="text-center border-bottom col-4 rankh"><div class="btn-group"><button type="button" :itemid="rkid" onclick="voteItem(this)" class="btn btn-sm btn-outline-primary" v-bind:class="{disabled: voting}"><span v-if="voting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>Vote</button><button type="button" :itemid="rkid" onclick="unVoteItem(this)" class="btn btn-sm btn-outline-danger" v-bind:class="{disabled: unvoting}">UnVote<span v-if="unvoting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button></div></div></div>'});var tongjiv=new Vue({el:"#v_tongji",data:{show:!0,costOfCreate:1e6,totalusers:0,totalevents:0,exrate:100,airdropusers:0,totalvotes:0,totalrewards:0,totalitems:0,myvotes:0,claiming:!1,claimResult:!1,creating:!1,createtext:"",createResult:!1,claimtext:"",claimTran:"",createTran:"",loading:!0},computed:{estimateReward:function(){return this.totalvotes>0?Number(115200/this.totalvotes).toFixed(6):0}},methods:{tjClaimReward:function(e){tongjiv.claimResult=!1,claimReward((function(e){tongjiv.claiming=!1,tongjiv.claimResult=e.result,alleventv.pushClaimEvent(e),e.result?(console.log(e),console.log(e.retobj),tongjiv.claimTran="https://dappchain.tronscan.io/#/transaction/"+e.retobj,tongjiv.claimtext="claimed successfully"):(console.log(e),console.log(e.retobj),tongjiv.claimtext=e.retobj.error)}))},tjCreateNew:function(e){createNew()}}});function btnClaimReward(){tongjiv.tjClaimReward()}function itemName(e){return e<presetranks.length&&presetranks[e]?presetranks[e].name:String(e)}function getUrl(e,t){return encodeURI("showitem.html?id="+key+"&cate="+t)}var rankv=new Vue({el:"#v_ranks",data:{show:!0,gbase:"showitem.html?id=",cateId:1,curPage:1,pageSize:50,itemsVoting:new Map,allItems:[],items:[],itemsMap:new Map},computed:{hasPrePage:function(){return this.curPage>1},hasNextPage:function(){return this.curPage*this.pageSize<this.allItems.length},cateName:function(){return cateNames[this.cateId]}},methods:{switchCateId:function(e){this.cateId=e,this.allItems.length=0,this.itemsMap.clear(),this.items.splice(0,this.pageSize),this.curPage=1},setCurPage:function(){this.items.length=0;for(let e=(this.curPage-1)*this.pageSize,t=0;t<this.pageSize&&e<this.allItems.length;e++,t++)this.items.push(this.allItems[e])},nextPage:function(){if(this.hasNextPage){this.items.length=0;for(let e=this.curPage*this.pageSize,t=0;t<this.pageSize&&e<this.allItems.length;e++,t++)this.items.push(this.allItems[e]);this.curPage++}},previousPage:function(){if(this.hasPrePage){for(let e=(this.curPage-2)*this.pageSize,t=0;t<this.pageSize&&e<this.allItems.length;e++,t++)this.items[t]=this.allItems[e];this.curPage--}},isVoting:function(e){return this.itemsMap.has(e)},setVoting:function(e,t){this.itemsMap.set(e,t)}}}),voteitModalv=new Vue({el:"#voteitModal",data:{airdroping:!1,buying:!1,inputTrxInSun:null},methods:{buyToken:function(){this.inputTrxInSun>0&&(alleventv.pushWaitingEvent("Buy..."),this.buying=!0,contractBuy(null,this.inputTrxInSun,(function(e){voteitModalv.buying=!1,alleventv.pushBuyEvent(voteitModalv.inputTrxInSun,e),voteitModalObj.hide()})))},airDropToken:function(){alleventv.pushWaitingEvent("Airdrop"),this.airdroping=!0,contractAirdrop(null,(function(e){voteitModalv.airdroping=!1,alleventv.pushAirdropEvent(e),voteitModalObj.hide()}))}}});vue_dex=new Vue({el:"#voteitdex",data:{show:!1,buying:!1,selling:!1,lastPrice:0,totalAmount:0,totalOrders:0,trxBalance:0,tokenBalance:0,sellAmount:0,buyAmount:0,buyPrice:0,sellPrice:0,ordersMap:{},sordersMap:{},sellorders:[{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null}],buyorders:[{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null},{price:null,dprice:"-",amount:null}],tradehistories:[],indicator:""},methods:{buyVoteit:function(){Number(this.buyPrice)<1e-6?this.inidicator="minum price is 0.000001":Number(this.buyPrice)*Number(this.buyAmount)>this.trxBalance?this.inidicator="TRX is not sufficient":(this.buying=!0,alleventv.pushWaitingEvent("Buy Voteit..."),dexBuyVoteit(tronlinkConnected,Number(this.buyPrice),Number(this.buyAmount),(function(e){vue_dex.buying=!1,alleventv.pushBuyVoteit(vue_dex.buyAmount,e),console.log(e)})))},sellVoteit:function(){Number(this.sellPrice)<1e-6?this.inidicator="minum price is 0.000001":Number(this.sellAmount)>Number(this.tokenBalance)?this.inidicator="VOTEIT is not sufficient":(this.selling=!0,alleventv.pushWaitingEvent("Sell Voteit..."),dexSellVoteit(tronlinkConnected,Number(this.sellPrice),Number(this.sellAmount),(function(e){vue_dex.selling=!1,alleventv.pushSellVoteit(vue_dex.sellAmount,e),console.log(e)})))}}});let betcontract="TXPV4HTikmAzA1SDbGPKrs652KFzy1wnDp";async function readBetMetrics(){if(localTronweb)try{let e=await localTronweb.contract().at(betcontract),t=1e6*betAmount,n=await e.batchBid(betType,t,batchcnt).send({feeLimit:1e8,callValue:0,tokenId:contractTokenId,tokenValue:t*batchcnt,shouldPollResponse:!1});console.log(n),callback&&callback({result:!0,retobj:n})}catch(e){callback&&callback({result:!1,retobj:e})}}async function contractBet(e,t,n,a){if(tronlinkWeb)try{let i=await tronlinkWeb.contract().at(betcontract),o=1e6*t,l=await i.batchBid(e,o,n).send({feeLimit:1e8,callValue:0,tokenId:contractTokenId,tokenValue:o*n,shouldPollResponse:!1});console.log(l),a&&a({result:!0,retobj:l})}catch(e){a&&a({result:!1,retobj:e})}else tronlinkNotConnected()}async function contractGetBetDetail(e,t){if(tronlinkWeb)try{let n=await tronlinkWeb.contract().at(betcontract),a=(tronlinkWeb.defaultAddress.base58,await n.getBetDetail(e).call({feeLimit:1e8,callValue:0,tokenId:"",tokenValue:0,shouldPollResponse:!1}));t&&t({result:!0,retobj:a})}catch(e){t&&t({result:!1,retobj:e})}}async function contractGetMyBets(e){if(tronlinkWeb)try{let t=await tronlinkWeb.contract().at(betcontract),n=tronlinkWeb.defaultAddress.base58,a=await t.getUserActiveBets(n).call({feeLimit:1e8,callValue:0,tokenId:"",tokenValue:0,shouldPollResponse:!1});e&&e({result:!0,retobj:a})}catch(t){e&&e({result:!1,retobj:t})}}async function contractSettleBets(e){if(tronlinkWeb)try{let t=await tronlinkWeb.contract().at(betcontract),n=await t.settleUserBets().send({feeLimit:1e8,callValue:0,tokenId:"",tokenValue:0,shouldPollResponse:!1});e&&e({result:!0,retobj:n})}catch(t){e&&e({result:!1,retobj:t})}else tronlinkNotConnected()}let vue_betgame=new Vue({el:"#v_betgame",data:{blockNumber:0,blockID:"",result:"",pastBN:[{bn:0,bid:"-",result:""},{bn:0,bid:"-",result:""},{bn:0,bid:"-",result:""},{bn:0,bid:"-",result:""},{bn:0,bid:"-",result:""},{bn:0,bid:"-",result:""}],myBets:[],betTypes:[{id:1,name:"ODD"},{id:2,name:"EVEN"},{id:4,name:"TWIN-D"},{id:8,name:"TRI-D"},{id:16,name:"QUA-D"},{id:32,name:"FIVE-D"}],betTypeSelected:1,batchCount:1,betting:!1,checking:!1,betAmount:0,betType:0,totalBet:0,totalAmount:0,totalWin:0,tokenBalance:0,maxMyBetBn:0,bonusReady:!1,bonusBlinkObj:null,isRefreshing:!1,bnResults:{},betResult:"You need bet first",refreshBn:0},computed:{indicate:function(){if(Number(this.batchCount)<1||Number(this.batchCount)>5)return"Batch: 1 to 5";if(Number(this.betAmount)<0)return"Amount should > 0";switch(this.betTypeSelected){case 2:case 1:return"bet 1 win 2";case 4:return"bet 1 win 16";case 8:return"bet 1 win 256";case 16:return"bet 1 win 4096";case 32:return"bet 1 win 65536"}return""}},methods:{resultStr:function(e){return result2str(e)},confirmCheckBonus:function(){getRealTronweb()?(this.checking=!0,alleventv.pushWaitingEvent("Check bonus.."),contractSettleBets((function(e){vue_betgame.checking=!1,alleventv.pushBonusCheckEvent(e),vue_betgame.refreshMyBets()}))):tronlinkNotConnected()},confirmBet:function(){getRealTronweb()?this.betAmount>0&&(this.betting=!0,alleventv.pushWaitingEvent("New Bet.."),contractBet(this.betTypeSelected,this.betAmount,this.batchCount,(function(e){vue_betgame.betting=!1,alleventv.pushBetEvent(vue_betgame.betAmount,vue_betgame.betTypeSelected,e),vue_betgame.refreshMyBets()}))):tronlinkNotConnected()},addMyBet:function(e){if(!e)return!1;let t=big2numer(e.betBN);if(0==this.blockNumber||this.blockNumber>256+t)return!1;for(let e=0;e<this.myBets.length;e++)if(this.myBets[e].bn==t)return!1;return t>this.maxMyBetBn&&(this.maxMyBetBn=t),this.myBets.unshift({bn:t,amount:big2numer(e.betAmount),btype:big2numer(e.betType),btypeStr:betTypeToStr(big2numer(e.betType)),result:0,win:!1}),t},updateMyBets:function(e){this.myBets.sort((function(e,t){return t.bn-e.bn}));let t=this.myBets.length;for(let n=t-1;n>=0;n--)if(this.myBets[n].bn+256<e)this.myBets.pop();else if(0==this.myBets[n].result)if(this.bnResults[this.myBets[n].bn]>0)this.myBets[n].result=this.bnResults[this.myBets[n].bn],(this.myBets[n].btype&this.myBets[n].result)==this.myBets[n].btype&&(this.myBets[n].win=!0);else if(this.myBets[n].bn<e){let e=this.myBets[n].bn;getBlock(e,(function(t){vue_betgame.setBetResult(e,getBlockResult(t))}))}let n=0;for(let e=0;e<t;e++){if(0==this.myBets[e].result)return void(this.betResult="Waiting block...");this.myBets[e].win&&n++}this.betResult=0==t?"You need bet first":0==n?"No luck":"Good luckï¼šWin "+n+" of "+t,e>=this.maxMyBetBn&&!this.bonusBlinkObj&&n>0&&(this.bonusBlinkObj=setInterval((async()=>{let e=document.getElementById("btnClaimBonus");vue_betgame.bonusReady?(e.classList.add("border"),e.classList.add("border-4"),e.classList.add("border-warning")):(e.classList.remove("border"),e.classList.remove("border-4"),e.classList.remove("border-warning")),vue_betgame.bonusReady=!vue_betgame.bonusReady}),500))},refreshMyBets:function(){this.isRefreshing=!0,contractGetMyBets((function(e){if(vue_betgame.isRefreshing=!1,!e.result)return;let t=e.retobj,n=0;for(0==t.length&&(vue_betgame.myBets=[]);n<t.length;n++)contractGetBetDetail(big2numer(t[n]),(function(e){if(e.result){vue_betgame.addMyBet(e.retobj);vue_betgame.blockNumber}}));if(0==t.length){clearInterval(vue_betgame.bonusBlinkObj),vue_betgame.bonusBlinkObj=null;let e=document.getElementById("btnClaimBonus");e.classList.remove("border"),e.classList.remove("border-4"),e.classList.remove("border-warning")}}))},setBetResult:function(e,t){this.bnResults[e]=t;for(let n=this.myBets.length-1;n>=0;n--)if(this.myBets[n].bn==e){this.myBets[n].result=t,(this.myBets[n].btype&t)==this.myBets[n].btype&&(this.myBets[n].win=!0);break}}}});function betTypeToStr(e){for(let t=0;t<vue_betgame.betTypes.length;t++)if(e==vue_betgame.betTypes[t].id)return vue_betgame.betTypes[t].name;return""}function result2str(e){let t="";return 1==(1&e)?t+="ODD":2==(2&e)&&(t+="EVEN"),4==(4&e)?t+=",TWIN-D":8==(8&e)?t+=",TRI-D":16==(16&e)?t+=",QUA-D":32==(32&e)&&(t+=",FIVE-D"),t}function getBlockResult(e){let t=0,n=e.slice(-5);return t+=!0&new bigInt(n.slice(-1),16).toJSNumber()?1:2,n[4]==n[3]&&(t+=4,n[2]==n[3]&&(t+=8,n[2]==n[1]&&(t+=16,n[0]==n[1]&&(t+=32)))),t}var maxOrderId=0;setInterval((async()=>{dexRead("getMetrics",(function(e){if(e.result){let t=big2numer(e.retobj.totalOrders);vue_dex.totalOrders=t,vue_dex.lastPrice=big2numer(e.retobj.lastPrice),vue_dex.totalAmount=big2numer(e.retobj.totalAmount),t>maxOrderId&&(readBuyPrices(),readSellPrices(),readUserOrders(),maxOrderId=t)}})),getCurrentBlock((function(e,t){vue_betgame.blockNumber=e,vue_betgame.blockID=t,vue_betgame.result=getBlockResult(t);vue_betgame.setBetResult(e,vue_betgame.result),vue_betgame.updateMyBets(e),e-vue_betgame.refreshBn>=3&&(vue_betgame.refreshBn=e,vue_betgame.refreshMyBets())})),vue_dex.trxBalance=walletv.trxBalance,vue_dex.tokenBalance=walletv.tokenBalance,vue_betgame.tokenBalance=walletv.tokenBalance}),3e3),readBuyPrices(),readSellPrices();const maxOrders=5;function readUserOrders(){dexGetOrders((function(e){if(e.result){let t=e.retobj,n=0;for(;n<t.length;n++){let e=big2numer(t[n]);dexRead("getOrderDetails",(function(t){if(t.result){let n=t.retobj,a={oid:e};if(a.price=big2numer(n.price),a.amount=big2numer(n.amount),a.lamount=big2numer(n.leftamout),a.ts=big2numer(n.ts),a.tsdone=big2numer(n.tsdone),a.type=n.otype,a.lamount>0)alleventv.ordersMap[e]?alleventv.orders[alleventv.ordersMap[e]-1]=a:(alleventv.orders.unshift(a),alleventv.ordersMap[e]=alleventv.orders.length);else{let t=alleventv.ordersMap[e];t>0&&(alleventv.orders.splice(t-1,1),alleventv.ordersMap[e]=0)}}}),e)}}}))}function readBuyPrices(){dexRead("getBuyPrices",(function(e){if(e.result){e=e.retobj;let t=0;for(;t<e.length;t++){let n=vue_dex.buyorders[t],a=big2numer(e[t]);n.price=a,n.dprice=n.price/1e6,vue_dex.ordersMap[a]=n,dexRead("getBuyAmount",(function(e){e.result&&(vue_dex.ordersMap[a].amount=big2numer(e.retobj))}),a)}for(;t<5;t++)vue_dex.buyorders[t].price=null,vue_dex.buyorders[t].dprice="-",vue_dex.buyorders[t].amount=null}}))}function readSellPrices(){dexRead("getSellPrices",(function(e){if(!e.result)return;e=e.retobj;let t=0;for(;t<e.length;t++){let n=vue_dex.sellorders[5-t-1];n.price=big2numer(e[t]),n.dprice=n.price/1e6;let a=n.price;n.amount=0,vue_dex.sordersMap[a]=n,dexRead("getSellAmount",(function(e){e.result&&(vue_dex.sordersMap[a].amount=big2numer(e.retobj))}),a)}for(;t<5;t++)vue_dex.sellorders[5-t-1].price=null,vue_dex.sellorders[5-t-1].dprice="-",vue_dex.sellorders[5-t-1].amount=null}))}function createNew(){getRealTronweb()?(createmodalv.trxBalance=walletv.trxBalance,createmodalv.costOfCreate=tongjiv.costOfCreate,createmodalv.cateSelected=defaultCateId,(createModalObj=new bootstrap.Modal(document.getElementById("createModal"))).show()):tronlinkNotConnected()}function claimReward(e){getRealTronweb()?(tongjiv.claiming=!0,alleventv.pushWaitingEvent("Claiming"),contractClaimReward(null,e)):tronlinkNotConnected()}function readItem(e){contractRead("getItem",(function(t){let n={};n.id=e,n.name=t[0],n.rank=e,n.voting=!1,n.votes=big2numer(t[1])/1e6,n.cateId=big2numer(t[2]),n.creator=getLocalTronweb().address.fromHex(t[3]),insertIntoRanks(n)&&(presetranks[e]=n)}),e,null)}function createRanksOfCate(e){if(defaultCateId==e)return;defaultCateId=e,walletv.cateId=e,rankv.switchCateId(e);for(let t=0;t<presetranks.length;t++)presetranks[t]&&presetranks[t].cateId==e&&insertIntoRanks(presetranks[t]);contractRead("getCateItemsId",(function(e){for(let t=0;t<e.length;t++){let n=big2numer(e[t]);readItem(n)}}),defaultCateId)}function readMetrics(){contractRead("getMetrics",(function(e){if(tongjiv.totalvotes=big2numer(e[0])/1e6,tongjiv.totalrewards=big2numer(e[1])/1e6,tongjiv.totalitems=big2numer(e[2])-1,presetranks.length=tongjiv.totalitems+1,tongjiv.costOfCreate=big2numer(e[3]),tongjiv.createtext="Cost "+tongjiv.costOfCreate/1e6+" TRX to create new item",createmodalv.indicator=tongjiv.createtext,tongjiv.myvotes=big2numer(e[4])/1e6,tongjiv.exrate=big2numer(e[5]),tongjiv.airdropusers=big2numer(e[6]),tongjiv.totalusers=big2numer(e[7]),tongjiv.totalevents=big2numer(e[8]),tongjiv.totalevents>eventStart){let e=eventStart;for(;e<tongjiv.totalevents;e++)contractRead("getUpdateEvent",(function(e){let t={};t.caller=getLocalTronweb().address.fromHex(e[0]),t.type=big2numer(e[1]),t.itemId=big2numer(e[2]),t.amount=big2numer(e[3])/1e6,t.total=big2numer(e[4])/1e6,t.param2="",t.details=t.caller,alleventv.updateEventResult(t)}),e);eventStart=tongjiv.totalevents}tongjiv.loading=!1}),null,null,!0)}function voteItemOnLink(e){console.log("vote item"+e)}function unVoteItemOnLink(e){console.log("unvote item"+e)}function updateItemVote(e,t,n){if(e=Number(e),rankv.itemsMap.has(e)){let a=presetranks[e].votes;n&&a<t&&(presetranks[e].votes=t,a!=t&&(rankv.allItems.sort((function(e,t){return t.votes-e.votes})),rankv.setCurPage()))}else presetranks[e]&&(presetranks[e].votes=t)}function insertIntoRanks(e){if(e.cateId!=rankv.cateId)return!0;if(rankv.itemsMap.has(e.id)){let t=presetranks[e.id].votes;return presetranks[e.id].votes=e.votes,t!=e.votes?rankv.allItems.sort((function(e,t){return t.votes-e.votes})):rankv.setCurPage(),!1}return rankv.allItems.push(e),rankv.allItems.sort((function(e,t){return t.votes-e.votes})),rankv.setCurPage(),rankv.itemsMap.set(e.id,!0),!0}function requestVOTEIT(){walletv.tlconnected?(voteitModalObj=new bootstrap.Modal(document.getElementById("voteitModal"),null)).show():tronlinkNotConnected()}function rankFilter(){var e,t;for(e=document.getElementById("rankFilterInput").value.toUpperCase(),t=0;t<rankv.items.length;t++){let n=document.getElementById("rank_"+rankv.items[t].id),a=document.getElementById("p_rank_"+rankv.items[t].id);txtValue=n.innerText,txtValue.toUpperCase().indexOf(e)>-1?a.style.display="":a.style.display="none"}}function routeByHash(){let e=window.location.hash,t=e.indexOf("cate=");-1!=t?(alleventv.mode=1,showEle("v_ranks",!0),showEle("voteitdex",!1),showEle("v_itemdetail",!1),showEle("v_betgame",!1),vue_itemdetail.show=!1,createRanksOfCate(Number(e.substr(t+5)))):(t=e.indexOf("item="),-1!=t?showItem(Number(e.substr(t+5))):(t=e.indexOf("dex"),-1!=t?showDex():(t=e.indexOf("bet"),-1!=t?showBet():(alleventv.mode=1,showEle("v_ranks",!0),showEle("voteitdex",!1),showEle("v_itemdetail",!1),showEle("v_betgame",!1),createRanksOfCate(1)))))}function showBet(){showEle("v_betgame",!0),showEle("voteitdex",!1),showEle("v_ranks",!1),showEle("v_itemdetail",!1)}function showDex(){alleventv.mode=3,alleventv.switchSideTab(),showEle("voteitdex",!0),showEle("v_betgame",!1),showEle("v_ranks",!1),showEle("v_itemdetail",!1)}function showEle(e,t){var n=document.getElementById(e);n&&(t?n.classList.remove("vhide"):n.classList.add("vhide"))}function showSupporter(e){alleventv.showSupport=e}function clickSellItem(e){let t=Number(e.id);vue_dex.buyPrice=vue_dex.sellorders[t].price/1e6}function clickBuyItem(e){let t=Number(e.id);vue_dex.sellPrice=vue_dex.buyorders[t].price/1e6}readMetrics(),setInterval((async()=>{readMetrics(),getResource(contractOwner,(function(e){walletv.energyLeft=e}))}),5e3),walletv.connectWallet(),routeByHash(),window.onpopstate=function(e){routeByHash()};
