<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
    <!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/peterolson/BigInteger.js/BigInteger.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/tronweb@3.2.1/dist/TronWeb.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sunweb@1.1.0/dist/SunWeb.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/voteit-top/voteit@0.1.12/presetranks.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/voteit-top/voteitimgs@0.0.2/voteitdetails.js"></script>
	<script src="https://kit.fontawesome.com/f4c2f140bb.js" crossorigin="anonymous"></script>
	<style>
#mySidenav a {
  position: absolute;
  left: -80px;
  transition: 0.3s;
  padding: 15px;
  width: 100px;
  text-decoration: none;
  font-size: 20px;
  color: white;
  border-radius: 0 5px 5px 0;
}

#mySidenav a:hover {
  left: 0;
}

#airdrop{
  top: 20px;
  background-color: #4CAF50;
}

#help{
  top: 80px;
  background-color: #2196F3;
}

#contact{
  top: 140px;
  background-color: #f44336;
}

    .w3-spin{animation:w3-spin 4s infinite linear}@keyframes w3-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}
		.rankh
		{
			height:32px;
		}
		.tongjih
		{
		height:210px;
		}
    .slideshowh
    {
    height:180px;
    }
      .bd-placeholder-img {
        font-size: 1.125rem;

        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
  .rtdapp-stub{
  z-index:10;
  position: fixed;
  right:0;
  top:0;
  }
  .rtdapp{
  z-index:10;
  position: fixed;
  right:0;
  top:48px;
  width:363px;
  height:152px;
  display:none;
  }
	.cfooter {
	position: fixed;
	left: 0;
	bottom: 0;
	width: 100%;
	background-color: red;
	color: white;
	text-align: center;
	}
	.shand
	{
	cursor:pointer;
	}
  .vhide
  {
  display:none;
  }
	</style>
	<meta name="description" content="Vote for amazing countries regions persons cities resorts brands in a decentralized way in TRON network">
    <title>VoteIt.top-Decentralized Voting System based on Tron Network</title>
  </head>
  <body class="d-flex flex-column h-100">

<div id="mySidenav" class="sidenav">
  <a href="#" id="airdrop">Airdrop<i class="fas fa-gift"></i></a>
  <a href="#" id="help">Help<i class="fas fa-help"></i></a>
  <a href="#" id="contact">Contact<i class="fas fa-twitter"></i></a>
</div>


	<nav class="navbar navbar-expand-lg navbar-light bg-light">

	  <div class="container-fluid container">
    <a class="navbar-brand" href="#"> <img src="./img/logo100.png" alt="VOTEIT logo" width="30" height="30" class="d-inline-block align-top">
      VoteIt</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
		<div  class="collapse navbar-collapse" id="navbarSupportedContent">
		  <ul class="navbar-nav me-auto mb-2 mb-lg-0">
			<li class="nav-item">
			  <a class="nav-link shand" id="nav_defaultlink" href="#cate=1" >Country/Region</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link shand" href="#cate=3" >City</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link shand"  href="#cate=4" >Resort</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link shand"  href="#cate=5" >Brand</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link shand" href="#cate=2" >Person</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link shand"  href="#cate=6" >Crypto</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link shand"  href="#cate=7" >Star</a>
			</li>      
		  </ul>
		  <ul id="v_wallet" class="navbar-nav">
      <div class="rtdapp-stub text-muted"><img title="We are running in Dappchain.." alt="Tron DappChain Sun network" src="./img/dappchain.png"></div>
              <li class="nav-item">
                  <a class="nav-link"  href="#pet" onclick="showPet()">PET<i class="text-secondary fas fa-cat"></i></a>
              </li>
              <li class="nav-item">
                  <a class="nav-link"  href="#bet" onclick="showBet()">BET<i class="text-danger fas fa-dice w3-spin"></i></a>
              </li>
		  <li class="nav-item">
			  <a class="nav-link"  href="#dex" onclick="showDex()">VOTEIT<i class="text-primary fas fa-exchange-alt"></i>TRX</a>
			</li>
        <li class="nav-item dropdown">
			  <a class="nav-link dropdown-toggle" href="#" id="navbarhelper" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				Help
			  </a>
			  <ul class="dropdown-menu" aria-labelledby="navbarhelper">

			  <li><a class="dropdown-item" href="./res/VOTEIT-whitepaper.pdf">VOTEIT whitepaper</a></li>
				<li><a class="dropdown-item" href="#"  onclick="requestVOTEIT()">VOTEIT Airdrop</a></li>
				<li><a class="dropdown-item" href="#dex">Buy/Sell VOTEIT</a></li>
        </ul>
			</li>
		  	<li class="nav-item dropdown">
			  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				<span v-if="tlconneting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>{{wallet}}
			  </a>
			  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">

			  <li><a class="dropdown-item" href="#" v-on:click="connectWallet" v-if="!tlconnected">{{ConnectWallet}}</a></li>
				<li><a class="dropdown-item" href="#"><span class="badge bg-info text-dark">TRX</span>{{trxBalance}}</a></li>
				<li><a class="dropdown-item" href="#"><span class="badge bg-info text-dark">VOTEIT</span>{{tokenBalance}}</a></li>
				<li><a class="dropdown-item" href="#" v-on:click="exitWallet" v-if="tlconnected">Disconnect</a></li>
			  </ul>
			</li>

		  </ul>
		</div>
	  </div>
	</nav>

	<div class="container">
	  <div class="row">
		<div  id="v_tongji" class="col-sm-4">
			<div class="card text-white mb-1 tongjih" style="background-color:#4682B4">
			  <div class="card-body">
				<p class="fs-6 mb-1">Total Votes：{{totalvotes}}</p>
				<p class="fs-6 mb-1">My Votes：{{myvotes}}</p>
				<p class="fs-6 mb-1">Total Items：{{totalitems}}</p>
				<p class="fs-6 mb-1">Total Rewards：{{totalrewards}}</p>
				<p class="fs-6 mb-1">Rewards(1Vote/day): ~{{estimateReward}}</p>
                <button type="button" onclick="btnClaimReward()" class="btn btn-primary">Claim Rewards</button>
				<span v-if="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
			  </div>
			</div>
		</div>
		<div class="col-sm-8">
		  <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
			<div class="carousel-inner">
			  <div class="carousel-item active">
				<svg class="bd-placeholder-img slideshowh" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#4682B4"/></svg>

				<div class="container">
				  <div class="carousel-caption text-start">
					<h3>ALL OPERATIONS ARE 'FREE'</h3>
					<p><a class="btn btn-lg btn-primary" href="https://github.com/voteit-top/voteit/wiki/FAQ" role="button">ZERO COST</a></p>
				  </div>
				</div>
			  </div>
			  <div class="carousel-item">
				<svg class="bd-placeholder-img slideshowh " width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#4682B4"/></svg>

				<div class="container">
				  <div class="carousel-caption">
					<h3>VOTEIT IS EXCHANGABLE NOW</h3>
					<p><a class="btn btn-lg btn-primary" href="#dex" role="button">EXCHANGE</a></p>
				  </div>
				</div>
			  </div>
			  <div class="carousel-item">
				<svg class="bd-placeholder-img slideshowh" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#4682B4"/></svg>

				<div class="container">
				  <div class="carousel-caption text-start">

					<h3>NO VOTE,NO REWARD</h3>
					<p><a class="btn btn-lg btn-primary" href="#" onclick="btnClaimReward()" role="button">CLAIM REWARDS</a></p>
				  </div>
				</div>
			  </div>
			</div>
			<a class="carousel-control-prev" href="#myCarousel" role="button" data-bs-slide="prev">
			  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
			  <span class="visually-hidden">Previous</span>
			</a>
			<a class="carousel-control-next" href="#myCarousel" role="button" data-bs-slide="next">
			  <span class="carousel-control-next-icon" aria-hidden="true"></span>
			  <span class="visually-hidden">Next</span>
			</a>
		  </div>
     <nav>
      <ul id="signindays" class="pagination pagination-sm">
        <li class="page-item">
        <a class="page-link" href="#" v-on:click="claimSignReward">Signin rewards</a>
        </li>
        <li class="page-item" v-for="dr,idx in daysreward" v-bind:class="{active: idx<contDays}"><a class="page-link" href="#" :title="'day'+(idx+1)">{{dr}}</a></li>
        <li class="page-item">
        <a class="page-link" href="https://github.com/voteit-top/voteit/wiki/FAQ#8-sign-in-rewards">?</a>
        </li>
      </ul>
    </nav>
		</div>
	  </div>
	</div>
<div class="container">
  <div  class="row">
    <div class="col-sm-9">
      <div  id='v_ranks' class="container">
        <div class="input-group mb-3">
          <span class="input-group-text bg-info">{{cateName}} rankings</span>

          <input type="text" class="form-control" id="rankFilterInput" placeholder="Search for names.." onkeyup="rankFilter()">
          <span><a class="btn btn-lg btn-primary" href="#" onclick="createNew()" title="creator can get rewards per block" role="button">Create</a></span>
        </div>
        <div class="row align-items-center">
        <div class="border-bottom col-2 rankh">
          <b>Rank</b>
        </div>
        <div class="border-bottom col-4 rankh">
          <b>Name</b>
        </div>
        <div class="border-bottom col-2 rankh">
          <b>Votes</b>
        </div>
        <div class="border-bottom text-center col-4 rankh">
          <b>Operate</b>
        </div>
        </div>
        <rankitem v-for="(item,index) in items" v-bind:rank="index+1+(curPage-1)*pageSize" v-bind:cid="item.cateId" v-bind:gsbase="gbase" v-bind:rkitem="item" v-bind:rkid="item.id" v-bind:voting="item.voting" v-bind:unvoting="item.unvoting"></rankitem>

        <nav aria-label="Page navigation example" v-if="allItems.length>pageSize">
          <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#" v-on:click="previousPage" v-bind:class='{disabled:!hasPrePage}'>Previous</a></li>
             <li class="page-item active" aria-current="page">
          <a class="page-link" href="#">{{curPage}}</a>
        </li>
            <li class="page-item"><a class="page-link" href="#" v-on:click="nextPage" v-bind:class='{disabled:!hasNextPage}'>Next</a></li>
          </ul>
        </nav>
      <div>
      <h5 class="text-center text-muted">Vote For Great {{cateName}}s Around The World!!</h5>
      </div>
      </div>
      <div id="v_itemdetail" class="vhide">
        <h2 class="text-center">{{name}}</h2>
          <table class="table">
        <tbody>
        <tr>
          <th scope="row" class="text-muted">Ranking</th>
          <td class="fs-4 text-success" >{{rank}}</td>

        </tr>
        <tr>
          <th scope="row" class="text-muted">Votes</th>
          <td class="fs-4 text-info">{{vote}}</td>

        </tr>
        <tr>
          <th scope="row" class="text-muted">Votes to rise ranking</th>
          <td class="fs-3 text-secondary">{{vote2rise}}</td>
        </tr>
        </tbody>
      </table>
      <div class="text-center">
      <button type="button" :itemid="itemId" onclick="voteItem(this)" class="btn btn-success">Vote<span v-if="voting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button>
      <button type="button" :itemid="itemId" onclick="unVoteItem(this)" class="btn btn-warning">UnVote<span v-if="unvoting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button>
      </div>
      <div>
        <div class="border-bottom">
        {{desc}}
        <div class="row">
        <div class="col-4">
        <a v-if="(desc.length==0)" :href="googleurl" target="_blank">Google {{name}}</a>
        </div>
        <div class="col-4">
        <a v-if="(desc.length==0)" :href="wikiurl" target="_blank">Wiki {{name}}</a>
        </div>
        <div class="col-4">
        <a v-if="(desc.length==0)" href="https://github.com/voteit-top/voteitimgs" target="_blank">Add description for {{name}}({{itemId}})</a>
        </div>
        </div>
        </div>
        <div>
        <a v-if="(imgs.length==0)" href="https://github.com/voteit-top/voteitimgs" target="_blank">Add images for {{name}}({{itemId}})</a>
        <img v-for="img in imgs" :src="img" class="img-fluid" :alt="name">
        </div>
      </div>
        <div v-if="(imgs.length>0)" class="text-center">
        <button type="button" :itemid="itemId" onclick="voteItem(this)" class="btn btn-success">Vote<span v-if="voting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button>
        <button type="button" :itemid="itemId" onclick="unVoteItem(this)" class="btn btn-warning">UnVote<span v-if="unvoting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button>
        </div>
      </div>
      <div  id="voteitdex" class="vhide">
        <ul class="list-group">
          <li class="list-group-item list-group-item-secondary"><div class="row"><div class="col-6">Sell Price(Trx)</div><div class="col-6">Amount(VOTEIT)</div></div></li>

          <li class="list-group-item" v-for="(sorder,index) in sellorders"><div class="row"><div :id="index" onclick="clickSellItem(this)" class="col-6">{{sorder.dprice}}</div><div class="col-6">{{sorder.amount/1000000}}</div></div></li>
        </ul>
        <div class="row">
          <div class="col-6"><p class="fs-5 text-warning">Last price:{{lastPrice/1000000}}Trx</p></div><div class="col-6"><p class="fs-5 text-warning">Total orders:{{totalOrders}}</p></div></div>

        <ul class="list-group">
        <li class="list-group-item list-group-item-success"><div class="row"><div class="col-6">Buy Price(Trx)</div><div class="col-6">Amount(VOTEIT)</div></div></li>
        <li class="list-group-item" v-for="(border,index) in buyorders"><div class="row"><div :id="index" onclick="clickBuyItem(this)" class="col-6">{{border.dprice}}</div><div class="col-6">{{border.amount/1000000}}</div></div></li>
        </ul>
      <div class="row">
      <div class="col-6">
        <div>
          <label class="col-form-label text-info fs-5 nowrap">TRX balance:<span>{{trxBalance}}</span></label>
        </div>
        <div class="mb-3 row">
          <label class="col-sm-4 col-form-label">Buy Price:</label>
          <div class="col-sm-8">
            <input class="form-control" v-model="buyPrice">
          </div>
        </div>
        <div class="mb-3 row">
          <label class="col-sm-4 col-form-label">Amount</label>
          <div class="col-sm-8">
            <input class="form-control" v-model="buyAmount">
          </div>
        </div>
        <div class="text-center"><button class="btn btn-secondary mb-3" v-on:click="buyVoteit">Buy VOTEIT<span v-if="buying" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button></div>
      </div>

      <div class="col-6">
        <div>
          <label class="col-form-label  text-info fs-5 nowrap">VOTEIT balance:<span>{{tokenBalance}}</span></label>
        </div>
        <div class="mb-3 row">
          <label class="col-sm-4 col-form-label">Sell Price:</label>
          <div class="col-sm-8">
            <input class="form-control" v-model="sellPrice">
          </div>
        </div>
        <div class="mb-3 row">
          <label class="col-sm-4 col-form-label">Amount</label>
          <div class="col-sm-8">
            <input class="form-control" v-model="sellAmount">
          </div>
        </div>
        <div  class="text-center"><button class="btn btn-danger mb-3" v-on:click="sellVoteit">Sell VOTEIT<span v-if="selling" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button></div>
      </div>
      <p class="text-warning">{{indicator}}</p>
      </div>
    </div>
        <div id="v_betgame" class="container vhide">
            <div class="row">
                <div class="col-4 text-muted">
                   Latest Block Number
                </div>
                <div title="Last 5 characters of block ID" class="col-4 text-muted">
                    L5BID
                </div>
                <div class="col-4 text-muted">
                    Result
                </div>
            </div>
            <div class="row border">
                <div class="fs-3 text-primary col-4">
                    <a :href="'https://dappchain.tronscan.org/#/block/'+blockNumber" target="_blank">{{blockNumber}}</a>
                </div>
                <div class="fs-3 text-primary col-4">
                    {{blockID.slice(-5)}}
                </div>
                <div class="fs-3 text-primary col-4">
                    {{resultStr(result)}}
                </div>
            </div>


            <div class="row">
                <div class="col-sm-6">
                    <label class="col-form-label  text-info fs-5 nowrap">VOTEIT balance:<span>{{tokenBalance}}</span></label>
                    <div class="mb-3 row">
                        <label class="col-sm-4 col-form-label" title="VOTEIT">Amount(VOTEIT):</label>
                        <div class="col-sm-8">
                            <input class="form-control" v-model="betAmount">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-4 col-form-label"><a href="https://github.com/voteit-top/voteit/wiki/bet#support-modes" target="_blank"><i class="far fa-question-circle"></i></a>Type:</label>
                        <div class="col-sm-8">
                        <select id="betTypeselect" v-model="betTypeSelected" class="form-select" aria-label="Default Bet Type">
                            <option v-for='item in betTypes' :value="item.id">{{item.name}}</option>
                        </select>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-4 col-form-label" title="multiple bet"><a href="https://github.com/voteit-top/voteit/wiki/bet#support-modes" target="_blank"><i class="far fa-question-circle"></i></a>Batch:</label>
                        <div class="col-sm-8">
                            <input class="form-control" v-model="batchCount">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <div class="col-sm-4"><a class="text-muted" href="https://github.com/voteit-top/voteit/wiki/bet" target="_blank">Help</a></div>
                        <div class="col-sm-8">
                            <button class="btn btn-danger mb-3" v-on:click="confirmBet">Bet<span v-if="betting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button><span class="text-muted">{{indicate}}</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <label class="col-form-label  text-info fs-5">My active bets</label>
                    <div class="row">
                        <div class="col-3">
                            Block
                        </div>
                        <div class="col-3">
                            Amount
                        </div>
                        <div class="col-3">
                            Bet
                        </div>
                        <div class="col-3">
                            Result
                        </div>
                    </div>
                    <div class="row" v-for="mb in myBets">
                        <div class="col-3">
                            <a :href="'https://dappchain.tronscan.org/#/block/'+mb.bn" target="_blank">{{mb.bn}}</a>
                        </div>
                        <div class="col-3">
                            {{mb.amount/1000000}}
                        </div>
                        <div class="col-3">
                            {{mb.btypeStr}}
                        </div>
                        <div class="col-3">
                            {{resultStr(mb.result)}}<i v-if="mb.win" class="text-warning fas fa-smile-beam"></i>
                        </div>
                    </div>
                    <div  class="text-center"><button class="btn btn-info mb-3" v-on:click="refreshMyBets">Refresh<span v-if="isRefreshing" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button><span>&nbsp;&nbsp;</span><button id="btnClaimBonus" class="btn btn-success mb-3" v-on:click="confirmCheckBonus">Check Bonus<span v-if="checking" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button></div>
                    <p class="text-info">{{betResult}}</p>
                </div>
              </div>
        </div>
	   <div  id="v_pets" class="vhide">

	<div class="modal fade" id="petPriceModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
		<h5 class="modal-title" id="petModalLabel">Sell <span class="text-primary">{{itemName}}</span></h5>
		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	      </div>
	      <div class="modal-body">
		<form>
		  <div class="mb-3">
		    <label for="message-text" class="col-form-label">Price to sell(VOTEIT)</label>
		    <input type="text" class="form-control" id="recipient-name" v-model="sellPrice">
		  </div>
		</form>
	      </div>
	      <div class="modal-footer">
		<span class="text-info">{{sellIndicator}}</span>
		<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
		<button type="button" class="btn btn-primary" v-on:click="confirmSell">Sell</button>
	      </div>
	    </div>
	  </div>
	</div>
	<div class="modal fade" id="bindPetModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
		<h5 class="modal-title" id="bindPetModalLabel"><span class="text-primary">{{itemName}}</span></h5>
		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	      </div>
	      <div class="modal-body">
		<form>
		  <div class="mb-3">
                  <select id="petSelect" v-model="selectedPetId" aria-label="specify pet to bind">
                      <option value=0>Select Pet</option>
                      <option v-for="p in myPets" :value="p.petId">{{p.petId}}</option>
                  </select>
		    <img v-if="selectedPetId>0" width=100px height=100px :src="selectedPetImg"/>
		  </div>
		</form>
	      </div>
	      <div class="modal-footer">
		<span class="text-info">{{sellIndicator}}</span>
		<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
		<button type="button" class="btn btn-primary" v-on:click="confirmBind">Bind</button>
	      </div>
	    </div>
	  </div>
	</div>
	      <div class="btn-group"><button type="button" v-on:click="showPetRanking" class="btn btn-outline-primary">Ranking</button><button type="button" v-on:click="showPetPicker" class="btn btn-outline-primary">Pick</button><button type="button" v-on:click="showPetMarket" class="btn btn-outline-primary">Market</button><button type="button" v-on:click="showMyPetGem" class="btn btn-outline-primary">My</button><span><a target="_blank" href="https://github.com/voteit-top/voteit/wiki/Pet">help</a></span></div>
      <div id="petsRanking">
        <p>Ranking of pets</p>
          <div class="card-group">
              <div class="card" style="min-width:120px;max-width:120px" v-for="(rp,index) in rankingPets">
                  <img width=120px height=120px :src="'./img/'+rp.img" class="card-img-top" alt="...">
                  <div class="card-body">
                      <p class="card-text text-center">Rank:{{index+1}}</p>
                      <p class="card-text text-center">PUID:{{rp.petId}}</p>
                      <p class="card-text text-center">Power:{{rp.power}}</p>
                  </div>
              </div>
          </div>
      </div>
      <div id="myPetGem" class="vhide">
        <p>My pets and gems</p>
          <div class="card-group">
              <div class="card" style="max-width:200px;min-width:180px" v-for="mp in myPets">
                  <img width=180px height=200px :src="'./img/'+mp.img" class="card-img-top" alt="...">
                  <div class="card-body">
                      <p class="card-text text-center">PUID:{{mp.petId}}</p>
                      <p class="card-text text-center">Power:{{mp.power}}</p>
                      <a v-on:click="sell(mp.petId)" class="btn btn-primary">{{sellOrUnsell(1,mp.petId)}}</a>
                      <a v-on:click="feed(mp.petId)" class="btn btn-primary">Feed</a>
                  </div>
              </div>
          </div>
          <div class="card-group">
              <div class="card" style="max-width:150px;min-width:150px" v-for="mg in myGems">
                  <img width=120px height=120px :src="'./img/'+mg.img" class="card-img-top" alt="...">
                  <div class="card-body">
                      <p class="card-text text-center">GUID:{{mg.gemId}}</p>
                      <p class="card-text text-center">Power:{{mg.power}}</p>
                      <a v-on:click="sellGem(mg.gemId)" class="btn btn-primary">{{sellOrUnsell(2,mg.gemId)}}</a>
                      <a v-on:click="bindGem(mg.gemId, mg.petId)" class="btn btn-primary">{{bindOrUnbind(mg.gemId)}}</a>
                  </div>
              </div>
          </div>
      </div>
      <div id="petsPick" class="vhide">
        <p> You can pick a pet randomly. The first pet costs 100 VOTEIT. Starting with the second pet, you'll have to spend twice as much as the previous one.</p>
          <div class="mt-3 row"><div class="col-6"><span class="text-info">next pick price:{{nextPickPrice}} VOTEIT</span><button type="button" class="btn btn-primary" v-on:click="pick" >Pick one pet randomly</button></div><div class="col-6"><p class="text-muted" v-on:click="showMyPetGem">My pets:{{myPetsCnt}}</p></div></div>

          <div class="card-group">
              <div class="card" style="min-width:100px" v-for="(rp,index) in rawPets">
                  <img width=100px height=100px :src="'./img/'+rp.img" class="card-img-top" alt="...">
                  <div class="card-body">
                      <p class="card-text">#{{index+1}}</p>
                      <p class="card-text">{{rp.hot}} pick</p>
                  </div>
              </div>
          </div>
      </div>
       <div id="petsMarket" class="vhide">
        <p>Buy/Sell pets and gems</p>
           <div class="card-group">
               <div class="card" style="max-width:200px;min-width:180px" v-for="mp in marketPets">
                   <img width=180px height=200px :src="'./img/'+mp.img" :title="mp.owner" class="card-img-top" alt="...">
                   <div class="card-body">
                       <p class="card-text">Power:{{mp.power}}</p>
                       <p class="card-text">{{mp.price}}VOTEIT</p>
                       <a v-on:click="buy(mp.petId,mp.price)" class="btn btn-primary">Buy</a>
                   </div>
               </div>
           </div>
           <div class="card-group">
               <div class="card" style="max-width:150px;min-width:150px" v-for="mg in marketGems">
                   <img width=100px height=100px :src="'./img/'+mg.img" :title="mg.owner" class="card-img-top" alt="...">
                   <div class="card-body">
                       <p class="card-text">Power:{{mg.power}}</p>
                       <p class="card-text">{{mg.price}} VOTEIT</p>
                       <a v-on:click="buyGem(mg.gemId,mg.price)" class="btn btn-primary">Buy</a>
                   </div>
               </div>
           </div>

       </div>

    </div>
    </div>
    <div id="allevents_v" class="col-sm-3">
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" v-if="mode > 1" role="presentation">
        <a id="link_sidetab" class="nav-link" id="supporters-tab" data-bs-toggle="tab" href="#supporters" role="tab" aria-controls="home" aria-selected="true">{{sidetitle}}</a>
        </li>
        <li class="nav-item" role="presentation">
        <a class="nav-link active" id="home-tab" data-bs-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Events</a>
        </li>
        <li class="nav-item" role="presentation">
          <a id="link_myEvents" class="nav-link" id="profile-tab" data-bs-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">My events</a>
        </li>
      </ul>
      <div  class="tab-content" >
        <div class="tab-pane fade fade" id="supporters" role="tabpanel" aria-labelledby="supporters-tab">
          <ul class="list-group" v-if="mode==2">
            <li class="list-group-item" v-for="v in voters">{{v.addr}}<span class="text-red">({{v.vote}})</span></li>
          </ul>
          <ul class="list-group" v-if="mode==3">
            <li class="list-group-item" v-for="o in orders">{{orderType[o.type&3]}} {{o.lamount/1000000}} VOTEIT<span class="text-red">({{o.price/1000000}})</span><button type="button" class="btn btn-danger" v-on:click="cancelOrder(o.oid)">Cancel</button></li>
          </ul>
        </div>
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
        <ul class="list-group">
        <li class="list-group-item" v-for="evt in events"><a :title="evt.details" :href="evt.tranId">{{evt.name}} {{evt.param2}}</a></li>
        </ul>
        </div>
        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
          <ul class="list-group">
            <li class="list-group-item" v-if="waiting">{{waitingText}}<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></li>
            <li class="list-group-item" v-for="evt in myEvents"><a data-toggle="tooltip" data-placement="right" v-bind:title="evt.details" :href="evt.tranUrl" target="_blank">{{evt.name}} {{evt.param2}}</a><span class="badge bg-danger" v-if="evt.error">error</span><span class="badge bg-success" v-if="!evt.error">OK</span></li>
          </ul>
        </div>
      </div>

	</div>
  </div>
</div>

<div class="modal" id="voteitModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">VOTEIT</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      	<div class="card" >
      	<h4>AirDrop</h4>
      	<p>Every TRON account whose balance > 0, Can request 100 VOTEIT airdrop only once.</p>
		<p>Alternatively, you can just tweet <a href="https://twitter.com/TopVoteit"><i class="fab fa-twitter"></i>me</a> to leave your TRX address</p>
        <button type="button" class="btn btn-primary" v-on:click="airDropToken">Airdrop<span v-if="airdroping" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></button>
      	</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<div class="modal" id="tronlinkModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">No Tronlink?</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <h5>For safety concern, we only support Tronlink wallet, you need visit <a href="https://www.tronlink.org/">Tronlink</a> to install Chrome extension. </h5>
        <p>if you have installed Tronlink, please make sure it has been activated.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal" id="connectWalletModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Connect Tronlink</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Connect tronlink to enable your wallet.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="walletv.connectWallet()">Connect</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="voteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="voteModalLabel">{{title}} <span class="text-primary">{{itemName}}</span></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">{{titleBalance}}</label>
            <p class="text-secondary">{{tokenBalance}}</p>
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label">{{title}}:</label>
            <input type="text" class="form-control" id="recipient-name" v-model="inputVotes">
          </div>
        </form>
      </div>
      <div class="modal-footer">
		<span class="text-info">{{indicator}}</span>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" v-on:click="confirmVote">{{title}}</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="voteModalLabel">Create New</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Trx balance:{{trxBalance}}</label>
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label">Category:</label>
            <select id="cateselect" v-model="cateSelected" class="form-select" aria-label="Default select example">
			  <option v-for='item in cates' :value="item.id">{{item.name}}</option>
			</select>
			<label for="message-text" class="col-form-label">Name:</label>
            <input type="text" class="form-control" id="item-name" v-model="itemName">
          </div>
        </form>
      </div>
      <div class="modal-footer">
		<span class="text-info">{{indicator}}</span>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" v-on:click="confirmCreate">Create</button>
      </div>
    </div>
  </div>
</div>
<footer class="mt-auto py-3 bg-light">
<div class="container">
<div class=" row">
	<div class="col-1">
	<img src="./img/logo100.png">
	</div>
	<div class="col-3 container text-start">
	<a href="./res/VOTEIT-whitepaper.pdf">whitepaper</a>
  <br><a href="https://github.com/voteit-top/voteit/wiki/FAQ" target="_blank">FAQ</a>
	<br><a href="#" onclick="requestVOTEIT()">airdrop</a>
  <br><a href="./res/VOTEIT-dappchain-activate-day1.txt">Dappchain accounts activation d1</a>
  <br><a href="./res/VOTEIT-dappchain-activate-day2.txt">Dappchain accounts activation d2</a>
  <br><a href="./res/VOTEIT-dappchain-activate-day3.txt">Dappchain accounts activation d3</a>
	</div>
  <div class="col-4 container text-center">
    <p class="text-muted" title="4VOTEIT per block for voter|4VOTEIT per block for creator">Voting As Mining:VOTEIT</p>
	<a href="https://dappchain.tronscan.org/#/contract/TECu9sH4r5BZ373yBgBDsS3chC4s24cePA/">VOTEIT Miner smart contract</a>
  <br><a href="https://dappchain.tronscan.org/#/contract/TRWnVLAEJcAha5rYFgSTTRFWG9Vb7SPeS5/">VOTEIT DEX smart contract</a>
      <br><a href="https://dappchain.tronscan.org/#/contract/TXPV4HTikmAzA1SDbGPKrs652KFzy1wnDp/">VOTEIT BET smart contract</a>
  </div>
  <div class="col-4 container text-end">
    <a href="https://twitter.com/TopVoteit"><i class="fab fa-twitter"></i></a>
  </div>
</div>
</div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
<script src="./js/chunkall.js?v=249"></script>
<script>

</script>
  </body>
</html>
